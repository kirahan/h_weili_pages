(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29ba796e"],{"02f4":function(t,e,i){var n=i("4588"),r=i("be13");t.exports=function(t){return function(e,i){var o,s,a=String(r(e)),c=n(i),u=a.length;return c<0||c>=u?t?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,i){"use strict";var n=i("02f4")(!0);t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"0bfb":function(t,e,i){"use strict";var n=i("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,i){var n=i("52a7"),r=i("4630"),o=i("6821"),s=i("6a99"),a=i("69a8"),c=i("c69a"),u=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(i){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},"214f":function(t,e,i){"use strict";i("b0c5");var n=i("2aba"),r=i("32e9"),o=i("79e5"),s=i("be13"),a=i("2b4c"),c=i("520a"),u=a("species"),l=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var v=a(t),h=!o(function(){var e={};return e[v]=function(){return 7},7!=""[t](e)}),p=h?!o(function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[u]=function(){return i}),i[v](""),!e}):void 0;if(!h||!p||"replace"===t&&!l||"split"===t&&!f){var d=/./[v],g=i(s,v,""[t],function(t,e,i,n,r){return e.exec===c?h&&!r?{done:!0,value:d.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),b=g[0],m=g[1];n(String.prototype,t,b),r(RegExp.prototype,v,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},"28a5":function(t,e,i){"use strict";var n=i("aae3"),r=i("cb7c"),o=i("ebd6"),s=i("0390"),a=i("9def"),c=i("5f1b"),u=i("520a"),l=i("79e5"),f=Math.min,v=[].push,h="split",p="length",d="lastIndex",g=4294967295,b=!l(function(){RegExp(g,"y")});i("214f")("split",2,function(t,e,i,l){var m;return m="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return i.call(r,t,e);var o,s,a,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?g:e>>>0,b=new RegExp(t.source,l+"g");while(o=u.call(b,r)){if(s=b[d],s>f&&(c.push(r.slice(f,o.index)),o[p]>1&&o.index<r[p]&&v.apply(c,o.slice(1)),a=o[0][p],f=s,c[p]>=h))break;b[d]===o.index&&b[d]++}return f===r[p]?!a&&b.test("")||c.push(""):c.push(r.slice(f)),c[p]>h?c.slice(0,h):c}:"0"[h](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,n){var r=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,r,n):m.call(String(r),i,n)},function(t,e){var n=l(m,t,this,e,m!==i);if(n.done)return n.value;var u=r(t),v=String(this),h=o(u,RegExp),p=u.unicode,d=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(b?"y":"g"),x=new h(b?u:"^(?:"+u.source+")",d),y=void 0===e?g:e>>>0;if(0===y)return[];if(0===v.length)return null===c(x,v)?[v]:[];var S=0,_=0,C=[];while(_<v.length){x.lastIndex=b?_:0;var O,k=c(x,b?v:v.slice(_));if(null===k||(O=f(a(x.lastIndex+(b?0:_)),v.length))===S)_=s(v,_,p);else{if(C.push(v.slice(S,_)),C.length===y)return C;for(var w=1;w<=k.length-1;w++)if(C.push(k[w]),C.length===y)return C;_=S=O}}return C.push(v.slice(S)),C}]})},"454f":function(t,e,i){i("46a7");var n=i("584a").Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},"456d":function(t,e,i){var n=i("4bf8"),r=i("0d58");i("5eda")("keys",function(){return function(t){return r(n(t))}})},"46a7":function(t,e,i){var n=i("63b6");n(n.S+n.F*!i("8e60"),"Object",{defineProperty:i("d9f6").f})},"520a":function(t,e,i){"use strict";var n=i("0bfb"),r=RegExp.prototype.exec,o=String.prototype.replace,s=r,a="lastIndex",c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[a]||0!==e[a]}(),u=void 0!==/()??/.exec("")[1],l=c||u;l&&(s=function(t){var e,i,s,l,f=this;return u&&(i=new RegExp("^"+f.source+"$(?!\\s)",n.call(f))),c&&(e=f[a]),s=r.call(f,t),c&&s&&(f[a]=f.global?s.index+s[0].length:e),u&&s&&s.length>1&&o.call(s[0],i,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)}),s}),t.exports=s},"5eda":function(t,e,i){var n=i("5ca1"),r=i("8378"),o=i("79e5");t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],s={};s[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",s)}},"5f1b":function(t,e,i){"use strict";var n=i("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var o=i.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"819a":function(t,e,i){},"85f2":function(t,e,i){t.exports=i("454f")},"8e6e":function(t,e,i){var n=i("5ca1"),r=i("990b"),o=i("6821"),s=i("11e9"),a=i("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(t){var e,i,n=o(t),c=s.f,u=r(n),l={},f=0;while(u.length>f)i=c(n,e=u[f++]),void 0!==i&&a(l,e,i);return l}})},9093:function(t,e,i){var n=i("ce10"),r=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},"958a":function(t,e,i){t.exports=i.p+"img/hotel_banner_login.fb9c37f3.jpg"},"990b":function(t,e,i){var n=i("9093"),r=i("2621"),o=i("cb7c"),s=i("7726").Reflect;t.exports=s&&s.ownKeys||function(t){var e=n.f(o(t)),i=r.f;return i?e.concat(i(t)):e}},a05a:function(t,e,i){"use strict";var n=i("819a"),r=i.n(n);r.a},a55b:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[t._m(0),i("div",{staticClass:"panel-login "},[t._m(1),t._m(2),i("div",{staticClass:"panel-room"},[i("div",{staticClass:"panel-body"},[i("div",{staticClass:"desc2"},[i("span",{staticClass:"room-info"},[t._v("房号")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.visitorID,expression:"visitorID"}],attrs:{placeholder:"请正确输入房间号",id:"visitorID"},domProps:{value:t.visitorID},on:{input:function(e){e.target.composing||(t.visitorID=e.target.value)}}}),i("br"),i("span",{staticClass:"room-info"},[t._v("姓名")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.visitorName,expression:"visitorName"}],attrs:{placeholder:"请输入入住护照姓名拼音全称",id:"visitorFullName",autofocus:""},domProps:{value:t.visitorName},on:{input:function(e){e.target.composing||(t.visitorName=e.target.value)}}}),i("br")]),i("li",[t._v("请务必正确输入入住房间号，和本房间的护照姓名拼音全称，如\n                        房间号和实时入住人信息不匹配，酒店将无法回复您的信息\n                    ")]),i("li",[t._v("此服务仅针对正入住酒店的顾客，若您现在并未入住酒店，请关闭此界面\n                    ")])])])]),i("el-button",{staticClass:"startbtn",on:{click:t.login}},[t._v("开始服务")])],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"flex","justify-content":"center"}},[n("img",{staticClass:"banner",attrs:{src:i("958a")}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"panel-heading"},[i("h3",{staticClass:"panel-title"},[i("span",[t._v("前台实时对话")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"panel-body"},[i("div",{staticClass:"desc"},[i("ul",[i("li",[t._v("使用此功能您可以与酒店前台沟通")]),i("li",[t._v("您直接输入的中文会通过翻译软件自动翻译成英文，酒店英文回复会自动翻译成中文")]),i("li",[t._v("翻译结果有时不完全准确，仅供参考。为了相对准确的翻译，请尽量避免使用生僻的语言")]),i("li",[t._v("酒店大部分信息已在微信公众号中提供，请您点击菜单查看详情")]),i("li",[t._v("本酒店同时提供房间报修、点餐、spa预约、潜水预约、叫车服务等，同样在微信公众号中，欢迎体验")])])])])}],o=(i("8e6e"),i("ac6a"),i("456d"),i("28a5"),i("bd86")),s=i("2f62"),a=i("c0d6");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(i,!0).forEach(function(e){Object(o["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var l={props:{id:{}},store:a["a"],computed:u({},Object(s["c"])({isVisitorConnected:function(t){return t.isVisitorConnected},visitorState:function(t){return t.visitorState},visitorInfo:function(t){return t.visitorInfo}})),sockets:{connect:function(){console.log("socket connected"),this.setVisConed(),this.setVisState("connected")},disconnect:function(){console.log("socket disconnected"),this.setVisDisConed()},handshake_server_to_visitor:function(t){this.v_socket_id=t,console.log("[info] socketid",t)},heartbeat_server_to_visitor:function(){console.log("[info] heart pang")}},components:{},data:function(){return{name:"",visitorName:"",v_socket_id:"",stateChanged:!1,heartloopid:0,visitorID:""}},methods:u({login:function(){if(this.visitorID&&""!=this.visitorName){var t=this.$route.path;console.log(t),"/rooms/"==t?this.$router.push({path:"".concat(t).concat(this.visitorID,"/chats")}):"/rooms"==t?this.$router.push({path:"".concat(t,"/").concat(this.visitorID,"/chats")}):t.split("/rooms/").length>1&&4==t.split("/").length?this.$router.push({path:"".concat(t,"chats")}):t.split("/rooms/").length>1&&3==t.split("/").length?this.$router.push({path:"".concat(t,"/chats")}):this.$router.push({path:"/rooms"}),this.setVisState("request_auth"),this.stateChanged=!0,this.setVisInfo({roomid:this.visitorID,visitorName:this.visitorName,vsocketid:this.v_socket_id}),this.updatestate(),clearInterval(this.heartloopid)}else this.$alert("房间名无效/姓名为空","错误",{confirmButtonText:"确定",callback:function(t){console.log("error")},customClass:"error-pop",confirmButtonClass:"conf-btn"})},handshake:function(){this.$socket.emit("handshake-visitor")},updatestate:function(){var t;"refused"==this.visitorState&&this.setVisState("connected"),this.stateChanged?(t={roomid:this.visitorID,roomstate:this.visitorState,visitorname:this.visitorName,vsocketid:this.v_socket_id,stateChanged:!0},this.stateChanged=!1):t={roomid:this.visitorID,roomstate:this.visitorState,visitorname:this.visitorName,vsocketid:this.v_socket_id,stateChanged:!1},console.log(this.heartloopid,"heart in",t),this.$socket.emit("heartbeat-visitor",t)},heartbeat:function(){var t=this;this.heartloopid=setInterval(function(){t.updatestate()},500)}},Object(s["b"])(["setVisConed","setVisDisConed","setVisState","setVisInfo"])),created:function(){this.id&&(this.visitorID=this.id),this.setVisConed(),this.setVisState("connected"),this.handshake(),this.heartbeat()}},f=l,v=(i("d6db"),i("a05a"),i("2877")),h=Object(v["a"])(f,n,r,!1,null,"078eb5d7",null);e["default"]=h.exports},a9e7:function(t,e,i){},aae3:function(t,e,i){var n=i("d3f4"),r=i("2d95"),o=i("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},ac6a:function(t,e,i){for(var n=i("cadf"),r=i("0d58"),o=i("2aba"),s=i("7726"),a=i("32e9"),c=i("84f2"),u=i("2b4c"),l=u("iterator"),f=u("toStringTag"),v=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(h),d=0;d<p.length;d++){var g,b=p[d],m=h[b],x=s[b],y=x&&x.prototype;if(y&&(y[l]||a(y,l,v),y[f]||a(y,f,b),c[b]=v,m))for(g in n)y[g]||o(y,g,n[g],!0)}},b0c5:function(t,e,i){"use strict";var n=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},bd86:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("85f2"),r=i.n(n);function o(t,e,i){return e in t?r()(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},d6db:function(t,e,i){"use strict";var n=i("a9e7"),r=i.n(n);r.a},f1ae:function(t,e,i){"use strict";var n=i("86cc"),r=i("4630");t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}}}]);